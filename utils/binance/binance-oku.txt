Bu yapÄ± orta/bÃ¼yÃ¼k Ã¶lÃ§ekli async Telegram bot iÃ§in uygun ve tÃ¼m Binance API endpoint'lerini desteklemektedir.

Binance API modÃ¼lÃ¼nÃ¼ inceleyip modÃ¼ler bir yapÄ±da

Mevcut Kod Analizi
âœ… GÃ¼Ã§lÃ¼ YÃ¶nler:
KapsamlÄ± API desteÄŸi (public/private endpoints)
Async/await pattern uygunluÄŸu
Circuit breaker ve retry mekanizmasÄ±
Rate limiting ve caching
WebSocket desteÄŸi
DetaylÄ± logging ve error handling


utils/
â”œâ”€â”€ binance/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ binance_a.py              # Ana aggregator
â”‚   â”œâ”€â”€ binance_request.py        # HTTP request mekanizmasÄ±
â”‚   â”œâ”€â”€ binance_public.py         # Public endpoints
â”‚   â”œâ”€â”€ binance_private.py        # Private endpoints (API key gerektiren)
â”‚   â”œâ”€â”€ binance_websocket.py      # WebSocket yÃ¶netimi
â”‚   â”œâ”€â”€ binance_circuit_breaker.py # Circuit breaker pattern
â”‚   â”œâ”€â”€ binance_utils.py          # YardÄ±mcÄ± fonksiyonlar
â”‚   â”œâ”€â”€ binance_constants.py      # Sabitler ve enum'lar
â”‚   â”œâ”€â”€ binance_metrics.py        # Metrik sÄ±nÄ±flarÄ±
â”‚   â””â”€â”€ binance_exceptions.py     # Ã–zel exception'lar
â””â”€â”€ config.py                     # Config yÃ¶netimi


analysis/, handler/ sadece binance_a.py Ã¼zerinden eriÅŸir

Ã–zet
âœ… YapÄ±lan Ä°yileÅŸtirmeler:

ModÃ¼ler YapÄ±: Tek dosya yerine mantÄ±ksal modÃ¼llere bÃ¶lÃ¼ndÃ¼
Type Hints: TÃ¼m fonksiyonlara tam type hint eklendi
Docstrings: TÃ¼m public metodlar iÃ§in detaylÄ± docstring
Error Handling: Merkezi hata yÃ¶netimi ve Ã¶zel exception'lar
Config YÃ¶netimi: Environment-based konfigÃ¼rasyon
Metrics: DetaylÄ± metrik takibi
Clean Code: PEP 8 uyumluluÄŸu ve okunabilirlik

ğŸ”§ Eklenen Ã–zellikler:
Context manager desteÄŸi
Connection pooling
Connection cleanup
DetaylÄ± logging
Metrics collection
Environment-based config



#===================================================

KullanÄ±m Ã–rneÄŸi
ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯--------------------------------
import asyncio
import logging
from utils.binance import BinanceClient, BinanceConfig

logging.basicConfig(level=logging.INFO)

async def main():
    config = BinanceConfig.from_env()
    
    async with BinanceClient(
        api_key="your_api_key",
        secret_key="your_secret_key",
        config=config
    ) as client:
        
        # Public API kullanÄ±mÄ±
        price = await client.get_symbol_price("BTCUSDT")
        print(f"BTC Price: {price['price']}")
        
        # WebSocket kullanÄ±mÄ±
        async def handle_ticker(data):
            print(f"Ticker update: {data}")
        
        await client.ws_ticker("btcusdt", handle_ticker)
        await asyncio.sleep(10)  # 10 saniye dinle

if __name__ == "__main__":
    asyncio.run(main())

ğŸ¯ğŸ¯ğŸ¯ğŸ¯ğŸ¯-------------------------------------

Bu Ã¶rnek, Binance API'ye baÄŸlanarak kripto para verilerini Ã§ekmek ve WebSocket Ã¼zerinden gerÃ§ek zamanlÄ± veri almakla ilgilidir. Ä°ÅŸte detaylÄ± aÃ§Ä±klama:

ğŸ“Œ NE YAPIYOR?
Binance API'ye BaÄŸlanÄ±yor:
Binance'in resmi API'sine baÄŸlanÄ±yor
REST API Ã¼zerinden anlÄ±k fiyat verisi Ã§ekiyor
WebSocket Ã¼zerinden gerÃ§ek zamanlÄ± veri akÄ±ÅŸÄ± baÅŸlatÄ±yor
Hangi Verileri AlÄ±yor:
BTCUSDT sembolÃ¼nÃ¼n anlÄ±k fiyatÄ±
AynÄ± sembolÃ¼n gerÃ§ek zamanlÄ± ticker verileri (fiyat deÄŸiÅŸimleri, hacim, vs.)

ğŸ¯ KULLANIM ALANLARI
ğŸ¯ğŸ¯-1. Kripto Para BotlarÄ± ğŸ¤–
python
# Trading bot Ã¶rneÄŸi
async def trading_strategy(client):
    price = await client.get_symbol_price("BTCUSDT")
    if float(price['price']) < 50000:
        # AlÄ±m emri ver
        order = await client.place_order(
            symbol="BTCUSDT", 
            side="BUY", 
            type_="MARKET", 
            quantity=0.001
        )



ğŸ¯ğŸ¯-2. Fiyat Ä°zleme & Alarm Sistemleri â°

# Price alert Ã¶rneÄŸi
async def price_alert(client, symbol, threshold):
    async def check_price(data):
        if float(data['c']) > threshold:
            print(f"ALARM! {symbol} {threshold} Ã¼zerinde: {data['c']}")
    
    await client.ws_ticker(symbol.lower(), check_price)



ğŸ¯ğŸ¯-3. Veri Analizi & Grafikleme ğŸ“Š

# Teknik analiz Ã¶rneÄŸi
async def technical_analysis(client):
    # 1 saatlik kline verilerini al
    klines = await client.get_klines_dataframe(
        "BTCUSDT", 
        interval="1h", 
        limit=100
    )
    
    # Moving average hesapla
    klines['MA20'] = klines['close'].rolling(window=20).mean()
    print(klines.tail())



ğŸ¯ğŸ¯-4. PortfÃ¶y Takibi ğŸ’¼

# Portfolio monitoring
async def portfolio_tracker(client):
    balances = await client.get_account_balance()
    for balance in balances['balances']:
        if float(balance['free']) > 0:
            print(f"{balance['asset']}: {balance['free']}")



ğŸ¯ğŸ¯-ğŸ”§ TEKNÄ°K DETAYLAR
Environment Variables (.env)
env
BINANCE_API_KEY=your_api_key_here
BINANCE_API_SECRET=your_secret_key_here
BINANCE_BASE_URL=https://api.binance.com
BINANCE_REQUEST_TIMEOUT=30
WebSocket Events ğŸ“¡
Ã–rnekteki handle_ticker fonksiyonu ÅŸu verileri alÄ±r:

json
{
  "e": "24hrTicker",  // Event type
  "s": "BTCUSDT",     // Symbol
  "c": "50123.45",    // Current price
  "h": "50200.00",    // High price
  "l": "49900.00",    // Low price
  "v": "1234.56",     // Volume
  "q": "62500000"     // Quote volume
}
ğŸš€ GERÃ‡EK DÃœNYA KULLANIM SENARYOLARI
Senaryo 1: Arbitraj Botu
python
async def arbitrage_bot(client):
    # Binance ve diÄŸer borsalardaki fiyat farkÄ±nÄ± bul
    binance_price = await client.get_symbol_price("BTCUSDT")
    # DiÄŸer borsa API'sinden fiyat al
    # Fiyat farkÄ±ndan kar etmeye Ã§alÄ±ÅŸ
Senaryo 2: Social Trading
python
async def copy_trading(client):
    # BaÅŸarÄ±lÄ± trader'larÄ±n iÅŸlemlerini takip et
    # WebSocket ile gerÃ§ek zamanlÄ± pozisyonlarÄ± izle
    # Otomatik olarak aynÄ± iÅŸlemleri yap
Senaryo 3: Market Maker
python
async def market_making(client):
    # Order book'taki spread'i sÃ¼rekli izle
    # Her iki tarafta da (alÄ±ÅŸ-satÄ±ÅŸ) limit emirleri ver
    # Spread'ten kÃ¼Ã§Ã¼k kazanÃ§lar elde et
âš ï¸ Ã–NEMLÄ° NOTLAR
API Limitleri: Binance'in rate limit'lerine dikkat edin
WebSocket BaÄŸlantÄ±larÄ±: Ã‡ok fazla WebSocket baÄŸlantÄ±sÄ± aÃ§mayÄ±n
Hata YÃ¶netimi: TÃ¼m API Ã§aÄŸrÄ±larÄ±nÄ± try-except ile sarmalayÄ±n
GÃ¼venlik: API key'lerinizi gÃ¼vende tutun

ğŸ“ˆ Ã‡IKTILAR
Terminal Ã‡Ä±ktÄ±sÄ± Ã–rneÄŸi:

text
BTC Price: 50123.45
Ticker update: {'e': '24hrTicker', 's': 'BTCUSDT', 'c': '50125.00', ...}
Ticker update: {'e': '24hrTicker', 's': 'BTCUSDT', 'c': '50130.00', ...}
Bu Ã¶rnek, kripto para trading botlarÄ±, fiyat izleme sistemleri, ve finansal analiz araÃ§larÄ± geliÅŸtirmek isteyenler iÃ§in temel bir baÅŸlangÄ±Ã§ noktasÄ±dÄ±r. ğŸš€



ğŸ¯ğŸ¯ğŸ¯

